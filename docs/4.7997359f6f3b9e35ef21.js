(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Tw4I:function(e,t,o){"use strict";o.r(t),o.d(t,"HerosModule",function(){return H});var r=o("ofXK"),n=o("tyNb"),i=o("fXoL"),s=o("LRne"),a=o("HDdC"),c=o("tk/3");let d=(()=>{class e{constructor(e){this.http=e,this.API="/api/heros",this.herosDB=[{id:1,name:"Captain America",yearCreated:"1941"},{id:2,name:"Black Panther",yearCreated:"1966"}]}getHeros(){return Object(s.a)([...this.herosDB])}createHero(e){return e.id=Date.now(),this.herosDB.push(e),this.mockNetworkCall(e)}updateHero(e){const t=this.herosDB.findIndex(t=>t.id==e.id);return this.herosDB[t]=e,this.mockNetworkCall(e)}removeHero(e){const t=this.herosDB.findIndex(t=>t.id==e.id);return this.herosDB.splice(t,1),this.mockNetworkCall(e)}mockNetworkCall(e){return a.a.create(t=>{setTimeout(()=>{t.next(e),t.complete()},1e3)})}}return e.\u0275fac=function(t){return new(t||e)(i.Lb(c.a))},e.\u0275prov=i.Bb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=o("2Vo4");let b=(()=>{class e{constructor(){this.updating$=new h.a(!1),this.heros$=new h.a(null)}isUpdating$(){return this.updating$.asObservable()}setUpdating(e){this.updating$.next(e)}getHeros$(){return this.heros$.asObservable()}setHeros(e){this.heros$.next(e)}createHero(e){const t=this.heros$.getValue();this.heros$.next([...t,e])}removeHero(e){const t=this.heros$.getValue();this.heros$.next(t.filter(t=>t.id!=e.id))}updateHero(e){const t=this.heros$.getValue(),o=t.findIndex(t=>t.id==e.id);t[o]=e,this.heros$.next([...t])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Bb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),p=(()=>{class e{constructor(e,t){this.heroAPI=e,this.herosState=t}isUpdating$(){return this.herosState.isUpdating$()}getHeros$(){return this.herosState.getHeros$()}loadHeros(){this.heroAPI.getHeros().subscribe(e=>this.herosState.setHeros(e),e=>console.error(e))}createHero(e){this.herosState.setUpdating(!0),this.heroAPI.createHero(e).subscribe(e=>this.herosState.createHero(e),e=>console.error(e),()=>this.herosState.setUpdating(!1))}updateHero(e){this.herosState.setUpdating(!0),this.heroAPI.updateHero(e).subscribe(e=>this.herosState.updateHero(e),e=>console.error(e),()=>this.herosState.setUpdating(!1))}removeHero(e){this.herosState.setUpdating(!0),this.heroAPI.removeHero(e).subscribe(e=>this.herosState.removeHero(e),e=>console.error(e),()=>this.herosState.setUpdating(!1))}}return e.\u0275fac=function(t){return new(t||e)(i.Lb(d),i.Lb(b))},e.\u0275prov=i.Bb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),l=(()=>{class e{constructor(){this.onEdit=new i.n,this.onDelete=new i.n}onEditEvent(){this.onEdit.emit(this.hero)}onDeleteEvent(){this.onDelete.emit(this.hero)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.zb({type:e,selectors:[["app-hero-view"]],inputs:{hero:"hero"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:14,vars:2,consts:[[1,"card"],[1,"title"],[1,"table"],[1,"label"],[1,"value"],[2,"text-align","right"],[1,"btn","edit",3,"click"],[1,"btn","delete",3,"click"]],template:function(e,t){1&e&&(i.Ib(0,"div",0),i.Ib(1,"h2",1),i.Xb(2),i.Hb(),i.Ib(3,"table",2),i.Ib(4,"tr"),i.Ib(5,"td",3),i.Xb(6,"Debut Year"),i.Hb(),i.Ib(7,"td",4),i.Xb(8),i.Hb(),i.Hb(),i.Hb(),i.Ib(9,"div",5),i.Ib(10,"button",6),i.Ob("click",function(){return t.onEditEvent()}),i.Xb(11,"Edit"),i.Hb(),i.Ib(12,"button",7),i.Ob("click",function(){return t.onDeleteEvent()}),i.Xb(13,"Delete"),i.Hb(),i.Hb(),i.Hb()),2&e&&(i.wb(2),i.Yb(t.hero.name),i.wb(6),i.Yb(t.hero.yearCreated))},styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 8px 0 #0003;padding:8px;border-radius:4px;margin:8px;width:300px}.table[_ngcontent-%COMP%]{font-size:12px}.title[_ngcontent-%COMP%]{margin:2px 0 5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:15px;text-transform:uppercase}.label[_ngcontent-%COMP%]{width:80px}.value[_ngcontent-%COMP%]{font-weight:700}.btn[_ngcontent-%COMP%]{color:#fff;padding:3px;text-align:center;text-decoration:none;display:inline-block;font-size:12px;margin:4px 12px;cursor:pointer}.btn.edit[_ngcontent-%COMP%]{background-color:#008cba}.btn.delete[_ngcontent-%COMP%]{background-color:#f44336}"]}),e})();function u(e,t){if(1&e){const e=i.Jb();i.Ib(0,"app-hero-view",3),i.Ob("onEdit",function(){i.Tb(e);const o=t.$implicit;return i.Qb().onEditEvent(o)})("onDelete",function(){i.Tb(e);const o=t.$implicit;return i.Qb().onDeleteEvent(o)}),i.Hb()}2&e&&i.Rb("hero",t.$implicit)}function f(e,t){1&e&&(i.Ib(0,"div",4),i.Gb(1,"div",5),i.Hb())}const g=[{path:"",component:(()=>{class e{constructor(e){this.heroFacade=e,this.heros=[],this.isUpdating=!1}ngOnInit(){this.heroFacade.isUpdating$().subscribe(e=>this.isUpdating=e,e=>console.error(e)),this.heroFacade.getHeros$().subscribe(e=>this.heros=e,e=>console.error(e)),this.heroFacade.loadHeros()}onAddEvent(){let e={id:-1,name:"",yearCreated:""};e.name=prompt("Enter Hero's Name","Hero 1"),e.yearCreated=prompt("Enter Hero's Debut Year","1989"),this.heroFacade.createHero(e)}onEditEvent(e){e.name=prompt("Enter Hero's Name",e.name),e.yearCreated=prompt("Enter Hero's Debut Year",e.yearCreated),this.heroFacade.updateHero(e)}onDeleteEvent(e){confirm(`Are you sure you want to delete ${e.name} ?`)&&this.heroFacade.removeHero(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Fb(p))},e.\u0275cmp=i.zb({type:e,selectors:[["app-heros-list"]],decls:6,vars:2,consts:[[1,"btn","create",3,"click"],[3,"hero","onEdit","onDelete",4,"ngFor","ngForOf"],["class","app-busy-loader-container",4,"ngIf"],[3,"hero","onEdit","onDelete"],[1,"app-busy-loader-container"],[1,"app-busy-loader"]],template:function(e,t){1&e&&(i.Ib(0,"h1"),i.Xb(1," Tour of Heroes "),i.Ib(2,"button",0),i.Ob("click",function(){return t.onAddEvent()}),i.Xb(3,"Add New"),i.Hb(),i.Hb(),i.Wb(4,u,1,1,"app-hero-view",1),i.Wb(5,f,2,0,"div",2)),2&e&&(i.wb(4),i.Rb("ngForOf",t.heros),i.wb(1),i.Rb("ngIf",t.isUpdating))},directives:[r.h,r.i,l],styles:[".btn[_ngcontent-%COMP%]{color:#fff;padding:3px;text-align:center;text-decoration:none;display:inline-block;font-size:12px;margin:4px 12px;cursor:pointer}.btn.create[_ngcontent-%COMP%]{background-color:#4caf50}.app-busy-loader-container[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;z-index:10;background-color:#0000004d;top:0;left:0}.app-busy-loader[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;z-index:1;border-radius:50%;border:16px solid #f3f3f3;border-top-color:#3498db;width:60px;height:60px;animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"]}),e})()}];let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Db({type:e}),e.\u0275inj=i.Cb({imports:[[n.a.forChild(g)],n.a]}),e})(),H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Db({type:e}),e.\u0275inj=i.Cb({imports:[[r.b,c.b,m]]}),e})()}}]);